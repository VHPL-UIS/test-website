{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/vahid/DEV/test-website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useLayoutEffect,useRef}from\"react\";import styled from\"styled-components\";import Vector from\"../Icons/Vector\";import gsap from\"gsap\";import ScrollTrigger from\"gsap/ScrollTrigger\";import{keyframes}from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VectorContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    top: 0.5rem;\\n    left: 50%;\\n    transform: translateX(-50%);\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden;\\n\\n    svg{\\n        width:100%;\\n        height:100%;\\n    }\\n\\n    @media (max-width: 48em) {\\n        left:1rem;\\n    }\\n\"])));var Bounce=keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    from { transform: translateX(-50%) scale(0.5);}\\n    to { transform: translateX(-50%) scale(1);}\\n\"])));var Ball=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    top: 0;\\n    left: 50%;\\n    transform: translateX(-50%);\\n    width: 1.5rem;\\n    height: 1.5rem;\\n    border-radius: 50%;\\n    background-color: \",\";\\n    animation: \",\" 0.5s linear infinite alternate;\\n\\n    @media (max-width: 48em) {\\n        left:1rem;\\n    }\\n\"])),function(props){return props.theme.text;},Bounce);var DrawSvg=function DrawSvg(){var ref=useRef(null);var ballRef=useRef(null);gsap.registerPlugin(ScrollTrigger);useLayoutEffect(function(){var element=ref.current;var svg=document.getElementsByClassName(\"svg-path\")[0];var length=svg.getTotalLength();svg.style.strokeDasharray=length;svg.style.strokeDashoffset=length;var t1=gsap.timeline({scrollTrigger:{trigger:element,start:\"top center\",end:\"bottom bottom\",onUpdate:function onUpdate(self){var draw=length*self.progress;svg.style.strokeDashoffset=length-draw;},onToggle:function onToggle(self){if(self.isActive){console.log(\"Scrolling is active\");ballRef.current.style.display='none';}else{console.log(\"Scrolling is not active\");ballRef.current.style.display='inline-block';}}}});console.log(length);return function(){if(t1)t1.kill();};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Ball,{ref:ballRef}),/*#__PURE__*/_jsx(VectorContainer,{ref:ref,children:/*#__PURE__*/_jsx(Vector,{})})]});};export default DrawSvg;","map":{"version":3,"names":["React","useLayoutEffect","useRef","styled","Vector","gsap","ScrollTrigger","keyframes","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","VectorContainer","div","_templateObject","_taggedTemplateLiteral","Bounce","_templateObject2","Ball","_templateObject3","props","theme","text","DrawSvg","ref","ballRef","registerPlugin","element","current","svg","document","getElementsByClassName","length","getTotalLength","style","strokeDasharray","strokeDashoffset","t1","timeline","scrollTrigger","trigger","start","end","onUpdate","self","draw","progress","onToggle","isActive","console","log","display","kill","children"],"sources":["/home/vahid/DEV/test-website/src/components/DrawSvg.js"],"sourcesContent":["import React, {useLayoutEffect, useRef} from \"react\";\nimport styled from \"styled-components\";\nimport Vector from \"../Icons/Vector\";\nimport gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\"\nimport { keyframes } from \"styled-components\";\n\nconst VectorContainer = styled.div`\n    position: absolute;\n    top: 0.5rem;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n\n    svg{\n        width:100%;\n        height:100%;\n    }\n\n    @media (max-width: 48em) {\n        left:1rem;\n    }\n`;\n\nconst Bounce = keyframes`\n    from { transform: translateX(-50%) scale(0.5);}\n    to { transform: translateX(-50%) scale(1);}\n`;\n\nconst Ball = styled.div`\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    background-color: ${props => props.theme.text};\n    animation: ${Bounce} 0.5s linear infinite alternate;\n\n    @media (max-width: 48em) {\n        left:1rem;\n    }\n`;\n\nconst DrawSvg = () => {\n    const ref = useRef(null);\n    const ballRef = useRef(null);\n    gsap.registerPlugin(ScrollTrigger);\n    useLayoutEffect(() => {\n        let element = ref.current;\n        let svg = document.getElementsByClassName(\"svg-path\")[0];\n        const length = svg.getTotalLength();\n\n        svg.style.strokeDasharray = length;\n        svg.style.strokeDashoffset = length;\n\n        let t1 = gsap.timeline({\n            scrollTrigger:{\n                trigger:element,\n                start: \"top center\",\n                end: \"bottom bottom\",\n                onUpdate: (self) => {\n                    const draw = length * self.progress;\n                    svg.style.strokeDashoffset = length - draw;\n                },\n                onToggle: self => {\n                    if(self.isActive){\n                        console.log(\"Scrolling is active\");\n                        ballRef.current.style.display = 'none';\n                    }else{\n                        console.log(\"Scrolling is not active\");\n                        ballRef.current.style.display = 'inline-block';\n                    }\n                }\n            }\n        })\n\n        console.log(length);\n\n        return () => {\n            if(t1) t1.kill();\n        };\n    }, [])\n    return (\n        <>\n        <Ball ref={ballRef}/>\n        <VectorContainer ref={ref}>\n            <Vector />\n        </VectorContainer>\n        </>\n    )\n}\n\nexport default DrawSvg;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}